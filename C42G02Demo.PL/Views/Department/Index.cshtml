@model IEnumerable<Department>
@{
    ViewData["Title"] = "All Departments";
}

@if(TempData["Message"] is not null)
{
    <div class="alert alert-success">
        @TempData["Message"]
    </div>
}

<h1>All Departments</h1>
<br />
<br />

<a asp-controller="Department" asp-action="Create" class="btn btn-primary"> Create New Department</a>
<br />
<br />

@if(Model.Count() > 0)
{
<table class="table table-hover table-striped">
    <thead>
        <tr>
            <th>@Html.DisplayNameFor(d=> d.Code)</th>
            <th>@Html.DisplayNameFor(d=> d.Name)</th>
            <th>@Html.DisplayNameFor(d=> d.DateOfCreation)</th>
            <th>Details</th>
            <th>Update</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        @foreach(var department in Model)
        {
           <tr>
                <td>@department.Code</td>
                <td>@department.Name</td>
                <td>@department.DateOfCreation</td>
                
                <partial name="_ButtonsPartial" model="department.Id.ToString()"> </partial>
           </tr>     
        }
    </tbody>
    </table>
}
else
{
    <div class="alert alert-info text-center" role="alert">
        <h4>No Departments Found</h4>
        <p>There are no departments available at the moment.</p>
    </div>
}